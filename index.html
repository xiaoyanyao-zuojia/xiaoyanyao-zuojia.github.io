<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作家协会</title>
    <style>
        /* 新增滚动条样式 */
        .article-content {
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 10px;
            margin: 15px 0;
            border: 1px solid #eee;
            border-radius: 5px;
        }
        
        /* 自定义滚动条 */
        .article-content::-webkit-scrollbar {
            width: 8px;
        }
        .article-content::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .article-content::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 4px;
        }
        .article-content::-webkit-scrollbar-thumb:hover {
            background: #2980b9;
        }

        /* 调整模态框高度 */
        .article-modal {
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <!-- 保持原有导航和容器结构不变 -->

    <!-- 修改模态框结构 -->
    <div class="article-modal" id="articleModal">
        <h2 id="articleTitle"></h2>
        <div class="article-content" id="articleContent"></div> <!-- 新增滚动容器 -->
        <div class="edit-tools">
            <button onclick="toggleEdit()">📝 发癫修改</button>
            <button onclick="closeModal()">❌ 关闭</button>
        </div>
    </div>

    <script>
        // 修改保存函数适配滚动条
        function saveChanges() {
            const newContent = document.getElementById('editContent').value;
            articles.article1.content = newContent.replace(/\n/g, '<br>');
            localStorage.setItem('article1', articles.article1.content);
            
            // 自动滚动到底部
            const contentDiv = document.getElementById('articleContent');
            contentDiv.scrollTop = contentDiv.scrollHeight;
            
            toggleEdit();
        }

        // 保持其他JavaScript不变
        /* 原有样式保持不变 */
        body {
            font-family: '微软雅黑', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        nav {
            background-color: #2c3e50;
            padding: 1rem;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
            padding: 5px 10px;
            transition: all 0.3s;
        }
        nav a:hover {
            background-color: #34495e;
        }
        .active {
            border-bottom: 2px solid #3498db;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background-color: white;
            min-height: 400px;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        /* 新增文章板块样式 */
        .article-list {
            columns: 2;
            margin-top: 1rem;
        }
        .article-item {
            break-inside: avoid;
            margin-bottom: 1.5rem;
        }

        /* 新增编辑样式 */
        .article-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem;
            width: 80%;
            max-width: 800px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            z-index: 1000;
            border-radius: 10px;
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }
        .edit-mode {
            border: 2px dashed #3498db;
            padding: 10px;
            margin: 10px 0;
        }
        .edit-tools {
            text-align: right;
            margin-top: 1rem;
        }
        .edit-textarea {
            width: 100%;
            height: 300px;
            padding: 10px;
            font-family: '微软雅黑', sans-serif;
        }
        .read-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <nav>
        <a href="#" onclick="showContent('home')" class="active">首页</a>
        <a href="#" onclick="showContent('about')">关于我们</a>
        <a href="#" onclick="showContent('articles')">文章和其他</a>
    </nav>

    <div class="container">
        <!-- 首页内容 -->
        <div id="home" class="content-section active">
            <h1>欢迎来到作(zuō)家协会！😊</h1>
            <p>xx小学作家协会是消炎药领导的，由一群沈瑾自发组织而成的抽象文学协会，创立于2024年12月。</p>
            <h2>我们的宗旨</h2>
            <ul>
                <li>坚持写小颠文的方向</li>
                <li>每天笑四一个读者</li>
                <li>贯彻疯疯颠颠、每天按时发（神经）病的方针</li>
                <li>发扬神金精神</li>
            </ul>
        </div>

        <!-- 关于我们内容 -->
        <div id="about" class="content-section">
            <h1>关于我们</h1>
            <h2>协会简介</h2>
            <p>xx小学作（zuō）家协会成立于2024年12月，个人会员6人。协会涵盖废话文学、批判现实文学、神金文学、发疯文学等各个文学门类</p>
            <p>❗52、02不属于作家协会成员</p>
            <h2>目前成员</h2>
            <ul>
                <li>安眠药</li>
                <li>无可救药·病入膏肓</li>
                <li>消炎药</li>
                <li>粽子</li>
                <li>饭团</li>
                <li>Siri</li>
            </ul>
            <h2>主要职责</h2>
            <ul>
                <li>写各种发颠文章</li>
                <li>开展精神病病友会</li>
                <li>骂天骂地</li>
                <li>批判学校现实</li>
            </ul>
            <h2>加入我们</h2>
            <p>欢迎符合条件的文学创作者加入协会，申请者需满足以下条件：1.够颠2.嘴够严3.会写文章，知道如何讽刺批判(人太多了不好）</p>
        </div>

        <!-- 新增文章和其他内容 -->
        <div id="articles" class="content-section">
            <h1>📚 文章和其他</h1>
            
            <div class="subsection">
                <h2>发颠文学的部分作品🥳</h2>
                <div class="article-list">
                    <div class="article-item">
                        <h3>《xx小学的环境、制度、学生精神· 制度🤮🤢》</h3>
                        <p>作者：消炎药|字数：--|状态：更新中（线上发布）<br>消炎药的批判性文学代表作，深刻揭露校领导的**</p>
                        <button class="read-button" onclick="showArticle('article1')">🚀 阅读发癫文章</button>
                    </div>
                    <div class="article-item">
                        <h3>《404教室一命速通🤯》</h3>
                        <p>作者：安眠药|字数：1500|状态：更完了<br>神金文学，荣获2025年2月最癫创作奖🏆</p>
                        <h3>《论语文书📙》</h3>
                        <p>作者：安眠药|字数：--|状态：更新中<br>发疯文学，安眠药最新疯癫力作🙃</p>
                        <h3>《班里部分女生👧的罪行》</h3>
                        <p>作者：Siri|字数：600|状态：更完了<br>作家协会最早的文章之一，批判现实文学，奠定了整个作家协会的发展基础，目前为“镇会之宝”之一</p>
                        <h3>《论璇(文言版)》</h3>
                        <p>作者：消炎药|字数：300|状态：百度翻译抽风了<br>受到〈女生罪行〉影响，写出的损YJX的文章的文言版本，镇会之宝之二（虽然因为百度翻译抽风写不完）</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h2>其他内容</h2>
                <ul>
                    <li>🧠 每周发疯日记精选</li>
                    <li>💥 会员互怼专区</li>
                    <li>🤪 癫文创作指南</li>
                    <li>📅 下次病友会：周五放学后</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 新增模态框 -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="article-modal" id="articleModal">
        <h2 id="articleTitle"></h2>
        <div id="articleContent"></div>
        <div class="edit-tools">
            <button onclick="toggleEdit()" style="background:#2ecc71">📝 发癫修改</button>
            <button onclick="closeModal()" style="background:#e74c3c">❌ 关闭</button>
        </div>
    </div>
    <script>
        // 原有内容切换功能
        function showContent(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // 新增文章编辑功能
        const articles = {
            article1: {
                title: '《xx小学的环境、制度、学生精神・制度🤮🤢》',
                content: localStorage.getItem('article1') || `消炎药的批判性文学代表作<br><br>
                   xx小学，一所制度极为抽象、精神极为扭曲、环境极为逆天的学校，这是作者在此生活六年的第一感受。
本篇主要展示制度，其实个人认为从一年级到五年级上学期还勉强称得上“还行”，直到现在，把原来的校长更换以后，这种情况才开始发生翻天覆地的变化。
回想起六年级刚开学时，我们刚刚得知来了这么一位“严格”的新校长，据说教学有方。借全校一百多位老师之口，他成功得往自己脸上贴了一张极其体面的金子，并塑造出了一个宽容和善的形象，但事情不可能如此简单。此所谓“严格”之新校长总把“严”用不到正地方，底下的各种主任、校领导也赶紧以一呼百应之势积极参与所谓的教育活动，上到家长会，下到眼保健操比赛，无一不干。
但要说令作者印象最深的一次，也是令全班甚至全年级同学对新校长新制度印象再刷新“高“的一次，便是十一月的研学事件。那本该是一件风平浪静的小事，但就是因为领导们和校长进来掺和把事闹大了。这件事，还要从“自愿”这个词说起。
六年级的研学活动是自愿参加的，也就是说到底去不去由自己的主观意识决定。或许是由于上学期的害虫基地给各自的心灵留下了些许阴影，再加上确实可能有其他事，所以班里就有十几名同学不去参加研学，作者也在其中。这一举动我并不觉得有啥错，毕竟“自愿”这个词是从他们嘴里说出来，再白纸黑字地印到研学通知单上的。
结果偏偏就把领导们惹到了，批了我们班主任一通，丝毫没有想到是学生们决定不去研学的。领导们都说了什么呢？据某同学透露，他们一开始必须先生气（怎么这个班就这么点人？！！😡），听到“研学会丧失一天学习时间，我们还要考试”的无理却准确的反驳后却不紧不慢地表态：哎呀呀考试要一直考到6月毕业考呢，您要是抓紧学习那就撒哈拉之夜也别参加了呢亲。而后赶紧发布新制度：不去研学的同学明天“敬请移步至学校”进行自习，中午有一顿丰富的生命体征维持餐（一个面包一根三中三一个苹果）供应。
 `
            }
        };
        let currentArticleId = '';

        function showArticle(articleId) {
            currentArticleId = articleId;
            const article = articles[articleId];
            document.getElementById('articleTitle').innerHTML = article.title;
            document.getElementById('articleContent').innerHTML = article.content;
            document.getElementById('modalOverlay').style.display = 'block';
            document.getElementById('articleModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('modalOverlay').style.display = 'none';
            document.getElementById('articleModal').style.display = 'none';
        }

        function toggleEdit() {
            const contentDiv = document.getElementById('articleContent');
            const isEditing = contentDiv.classList.toggle('edit-mode');
            
            if(isEditing) {
                const currentContent = contentDiv.innerHTML.replace(/<br>/g, '\n');
                contentDiv.innerHTML = `
                    <textarea class="edit-textarea" id="editContent">${currentContent}</textarea>
                    <div style="text-align:right; margin-top:10px">
                        <button onclick="saveChanges()" 
                                style="background:#27ae60;color:white">
                            💾 保存癫文
                        </button>
                        <button onclick="toggleEdit()" 
                                style="background:#95a5a6">
                            ↩️ 取消
                        </button>
                    </div>
                `;
            } else {
                contentDiv.innerHTML = articles[currentArticleId].content;
            }
        }

        function saveChanges() {
            const newContent = document.getElementById('editContent').value;
            articles[currentArticleId].content = newContent.replace(/\n/g, '<br>');
            localStorage.setItem(currentArticleId, articles[currentArticleId].content);
            toggleEdit();
        }

        document.getElementById('modalOverlay').onclick = closeModal;
        function showContent(sectionId) {
            // 隐藏所有内容区域
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // 显示选定内容区域
            document.getElementById(sectionId).classList.add('active');

            // 更新导航链接样式
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
